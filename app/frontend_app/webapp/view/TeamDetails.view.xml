<mvc:View controllerName="frontendapp.controller.TeamsList"
    xmlns="sap.uxap"
    xmlns:m="sap.m"
    xmlns:f="sap.f"
    xmlns:form="sap.ui.layout.form"
    xmlns:mvc="sap.ui.core.mvc">
    <ObjectPageLayout alwaysShowContentHeader="false" preserveHeaderStateOnScroll="false" headerContentPinnable="true" isChildPage="true" upperCaseAnchorBar="false">
        <headerContent>
            <m:Bar>
                <m:contentRight>
                    <m:OverflowToolbarButton type="Transparent" icon="sap-icon://decline" press="handleClose" tooltip="Close middle column" visible="{= ${/actionButtonsInfo/midColumn/closeColumn} !== null }"/>
                </m:contentRight>
            </m:Bar>
            <m:FlexBox wrap="Wrap" fitContainer="true" alignItems="Stretch">
                <m:Avatar src="{teamModel>/logo}" displaySize="XL" displayShape="Square" class="sapUiTinyMarginEnd">
                </m:Avatar>
                <m:Title text="{teamModel>/name}" titleStyle="H3" wrapping="true"/>
                <m:HBox >
                    <m:Text text="W: {teamModel>/wins}" wrapping="true" class="sapUiMediumMarginEnd greenText" />
                    <m:Text text="Goals scored: {teamModel>/scored}" wrapping="true" />

                </m:HBox>
                <m:HBox >
                    <m:Text text="D: {teamModel>/draws}" wrapping="true" class="sapUiMediumMarginEnd greyText"/>
                    <m:Text text="Goals conceded: {teamModel>/conceded}" wrapping="true" />
                </m:HBox>
                <m:Text text="L: {teamModel>/losses}" wrapping="true" class="redText"/>
            </m:FlexBox>
        </headerContent>
        <sections>
            <ObjectPageSection title="Players in team">
                <subSections>
                    <ObjectPageSubSection>
                        <blocks>
                            <m:Table id="teamsTable" items="{path:'teamPlayersModel>/'}">
                                <m:columns>
                                    <m:Column width="5%">

                                    </m:Column>
                                    <m:Column>
                                        <m:Label text="{i18n>name}"/>
                                    </m:Column>
                                    <m:Column>
                                        <m:Label text="{i18n>lastName}"/>
                                    </m:Column>
                                    <m:Column>
                                        <m:Label text="{i18n>position}"/>
                                    </m:Column>

                                    <m:Column width="5%">

                                    </m:Column>
                                </m:columns>

                                <m:items>
                                    <m:ColumnListItem>
                                        <m:Text text=""/>
                                        <m:Text text="{teamPlayersModel>player/name}"/>
                                        <m:Text text="{teamPlayersModel>player/lastName}"/>
                                        <m:Text text="{teamPlayersModel>player/position}"/>
                                    </m:ColumnListItem>
                                </m:items>
                            </m:Table>
                        </blocks>
                    </ObjectPageSubSection>
                </subSections>
            </ObjectPageSection>

            <ObjectPageSection title="Scheluded Matches">
                <subSections>
                    <ObjectPageSubSection>
                        <blocks>
                            <m:Table id="matchesTable" items="{path:'matchesModel>/'}">
                                <m:columns>
                                    <m:Column width="5%">
                                        <m:Label text="" />
                                    </m:Column>

                                    <m:Column width="3%"></m:Column>
                                    <m:Column>
                                        <m:Label text="{i18n>homeTeam}"/>
                                    </m:Column>

                                    <m:Column width="3%"></m:Column>
                                    <m:Column>
                                        <m:Label text="{i18n>guestTeam}"/>
                                    </m:Column>

                                    <m:Column>
                                        <m:Label text="{i18n>matchDate}"/>
                                    </m:Column>

                                    <m:Column width="5%">
                                    </m:Column>
                                </m:columns>

                                <m:items>
                                    <m:ColumnListItem>
                                        <m:Text text=""/>
                                        <m:Image height="100%" width="100%" src="{matchesModel>homeLogo}"/>
                                        <m:Text text="{matchesModel>homeTeam}"/>
                                        <m:Image height="100%" width="100%" src="{matchesModel>guestLogo}"/>
                                        <m:Text text="{matchesModel>guestTeam}"/>
                                        <m:Text text="{path: 'matchesModel>date', formatter: '.formatter.formatDate'}"/>
                                    </m:ColumnListItem>
                                </m:items>
                            </m:Table>
                        </blocks>
                    </ObjectPageSubSection>
                </subSections>
            </ObjectPageSection>

        </sections>
    </ObjectPageLayout>
</mvc:View>